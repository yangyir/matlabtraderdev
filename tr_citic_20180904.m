%trades record on "citic_kim_fut" on 2018-09-04
%note:some trades were traded between 2018-09-03 21:00:00 and 2018-09-04 01:00:00
countername = 'citic_kim_fut';
bookname = 'book-regressiontest';
myTrade1 = cTradeOpen('id','trade1',...
    'countername',countername, 'bookname',bookname,'code','ni1811',...
    'opendatetime',datenum('2018-09-03 23:31:07'),...
    'opendirection',1,...
    'openvolume',1,...
    'openprice',104770);
myTrade1.closedatetime1_ = datenum('2018-09-03 23:31:35');
myTrade1.closeprice_ = 104800;
myTrade1.status_ = 'closed';
myTrade1.closepnl_ = 30;
%
myTrade2 = cTradeOpen('id','trade2',...
    'countername',countername, 'bookname',bookname,'code','ni1811',...
    'opendatetime',datenum('2018-09-04 09:02:56'),...
    'opendirection',1,...
    'openvolume',1,...
    'openprice',104650);
myTrade2.closedatetime1_ = datenum('2018-09-04 09:29:50');
myTrade2.closeprice_ = 104800;
myTrade2.status_ = 'closed';
myTrade2.closepnl_ = 150;
%
myTrade3 = cTradeOpen('id','trade3',...
    'countername',countername, 'bookname',bookname,'code','cu1811',...
    'opendatetime',datenum('2018-09-03 00:34:15'),...
    'opendirection',1,...
    'openvolume',1,...
    'openprice',47850);
myTrade3.closedatetime1_ = datenum('2018-09-04 09:11:13');
myTrade3.closeprice_ = 47900;
myTrade3.status_ = 'closed';
myTrade3.closepnl_ = 250;
%
myTrade4 = cTradeOpen('id','trade4',...
    'countername',countername, 'bookname',bookname,'code','ni1811',...
    'opendatetime',datenum('2018-09-04 11:05:03'),...
    'opendirection',1,...
    'openvolume',1,...
    'openprice',104490);
myTrade4.closedatetime1_ = datenum('2018-09-04 11:08:55');
myTrade4.closeprice_ = 104610;
myTrade4.status_ = 'closed';
myTrade4.closepnl_ = 120;
%
myTrade5 = cTradeOpen('id','trade5',...
    'countername',countername, 'bookname',bookname,'code','ni1811',...
    'opendatetime',datenum('2018-09-04 11:21:48'),...
    'opendirection',1,...
    'openvolume',1,...
    'openprice',104450);
myTrade5.closedatetime1_ = datenum('2018-09-04 11:27:33');
myTrade5.closeprice_ = 104560;
myTrade5.status_ = 'closed';
myTrade5.closepnl_ = 110;
%
myTrade6 = cTradeOpen('id','trade6',...
    'countername',countername, 'bookname',bookname,'code','ni1811',...
    'opendatetime',datenum('2018-09-04 13:40:09'),...
    'opendirection',1,...
    'openvolume',1,...
    'openprice',104350);
myTrade6.closedatetime1_ = datenum('2018-09-04 11:46:31');
myTrade6.closeprice_ = 104360;
myTrade6.status_ = 'closed';
myTrade6.closepnl_ = 10;
%
myTrade7 = cTradeOpen('id','trade7',...
    'countername',countername, 'bookname',bookname,'code','ni1811',...
    'opendatetime',datenum('2018-09-04 13:41:31'),...
    'opendirection',1,...
    'openvolume',2,...
    'openprice',104150);
myTrade7.closedatetime1_ = datenum('2018-09-04 11:46:31');
myTrade7.closeprice_ = 104360;
myTrade7.status_ = 'closed';
myTrade7.closepnl_ = 420;
%
myTrade8 = cTradeOpen('id','trade8',...
    'countername',countername, 'bookname',bookname,'code','cu1811',...
    'opendatetime',datenum('2018-09-04 14:01:18'),...
    'opendirection',1,...
    'openvolume',1,...
    'openprice',47800);
myTrade8.status_ = 'set';
%
myTrade9 = cTradeOpen('id','trade9',...
    'countername',countername, 'bookname',bookname,'code','ni1811',...
    'opendatetime',datenum('2018-09-04 14:09:01'),...
    'opendirection',1,...
    'openvolume',2,...
    'openprice',104150);
myTrade9.status_ = 'set';
%
myTrade10 = cTradeOpen('id','trade10',...
    'countername',countername, 'bookname',bookname,'code','ni1811',...
    'opendatetime',datenum('2018-09-04 14:32:17'),...
    'opendirection',1,...
    'openvolume',2,...
    'openprice',103700);
myTrade10.status_ = 'set';
%
myTradesArray = cTradeOpenArray;
myTradesArray.push(myTrade1);
myTradesArray.push(myTrade2);
myTradesArray.push(myTrade3);
myTradesArray.push(myTrade4);
myTradesArray.push(myTrade5);
myTradesArray.push(myTrade6);
myTradesArray.push(myTrade7);
myTradesArray.push(myTrade8);
myTradesArray.push(myTrade9);
myTradesArray.push(myTrade10);
%%
myPos_20180904 = myTradesArray.convert2positions;
closepnl = 0;
for i = 1:myTradesArray.latest_
    if ~isempty(myTradesArray.node_(i).closepnl_)
        closepnl = closepnl + myTradesArray.node_(i).closepnl_;
    end
end




